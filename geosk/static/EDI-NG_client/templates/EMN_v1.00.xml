<?xml version="1.0" encoding="UTF-8"?>
<template xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="edi_template.xsd">
    <settings>
        <userInterfaceLanguage xml:lang="en"/>
        <metadataEndpoint>http://edidemo.get-it.it/edi/</metadataEndpoint>
        <sparqlEndpoint>http://sparql.get-it.it</sparqlEndpoint>
        <requiresValidation>true</requiresValidation>
        <baseDocument><![CDATA[
            <ef:EnvironmentalMonitoringNetwork xmlns:gml="http://www.opengis.net/gml/3.2"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gsr="http://www.isotc211.org/2005/gsr"
    xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gts="http://www.isotc211.org/2005/gts"
    xmlns:gss="http://www.isotc211.org/2005/gss" xmlns:gmd="http://www.isotc211.org/2005/gmd"
    xmlns:base="http://inspire.ec.europa.eu/schemas/base/3.3"
    xmlns:om="http://www.opengis.net/om/2.0" xmlns:gn="http://inspire.ec.europa.eu/schemas/gn/4.0"
    xmlns:net="http://inspire.ec.europa.eu/schemas/net/4.0"
    xmlns:sc="http://www.interactive-instruments.de/ShapeChange/AppInfo"
    xmlns:ad="http://inspire.ec.europa.eu/schemas/ad/4.0"
    xmlns:base2="http://inspire.ec.europa.eu/schemas/base2/2.0"
    xmlns:tn="http://inspire.ec.europa.eu/schemas/tn/4.0"
    xmlns:au="http://inspire.ec.europa.eu/schemas/au/4.0"
    xmlns:cp="http://inspire.ec.europa.eu/schemas/cp/4.0"
    xmlns:bu-base="http://inspire.ec.europa.eu/schemas/bu-base/4.0"
    xmlns:ef="http://inspire.ec.europa.eu/schemas/ef/4.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://inspire.ec.europa.eu/schemas/ef/4.0 http://inspire.ec.europa.eu/schemas/ef/4.0/EnvironmentalMonitoringFacilities.xsd">
    
    </ef:EnvironmentalMonitoringNetwork>
        ]]></baseDocument>
        <xsltChain>
            <xslt>http://sp7.irea.cnr.it/jboss/MDService/rest/EMN.xsl?version=1.00</xslt>
        </xsltChain>
    </settings>
    
    <endpointTypes>
        <endpointType xml:id="virtuoso" method="GET" queryParameter="query">
            <parameters>
                <parameter name="format" value="application/sparql-results+json"/>
                <parameter name="save" value="display"/>
                <parameter name="fname" value="undefined"/>
            </parameters>
        </endpointType>
        <endpointType xml:id="lustre" method="GET" queryParameter="query">
            <parameters>
                <parameter name="format" value="application/sparql-results+json"/>
                <parameter name="save" value="display"/>
                <parameter name="fname" value="undefined"/>
            </parameters>
        </endpointType>
        <endpointType xml:id="envthes" method="GET" queryParameter="query">
            <parameters>
                <parameter name="format" value="application/sparql-results+json"/>
                <parameter name="save" value="display"/>
                <parameter name="fname" value="undefined"/>
            </parameters>
        </endpointType>
        <endpointType xml:id="fuseki" method="GET" queryParameter="query">
            <parameters>
                <parameter name="output" value="json"/>
                <parameter name="format" value="application/sparql-results+json"/>
                <parameter name="save" value="display"/>
                <parameter name="fname" value="undefined"/>
            </parameters>
        </endpointType>
    </endpointTypes>
    
    <datasources>
        <sparql xml:id="operators" endpointType="fuseki">
            <query><![CDATA[
                        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                        PREFIX foaf: <http://xmlns.com/foaf/0.1/>
                        SELECT ?c ?l
                        WHERE { 
                          ?c rdf:type foaf:Person .
                          ?c foaf:mbox ?l.
                          FILTER( REGEX( STR(?l), "$search_param", "i") )
                        }
                        ORDER BY ASC(?l)
            ]]></query>
            <!-- Query with ORCID
            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
                        SELECT DISTINCT ?c ?l ?orcid
                        WHERE { 
                          ?c rdf:type foaf:Person .
                          ?c foaf:mbox ?l .
  						  ?c foaf:account ?d .
  						  ?d foaf:accountServiceHomepage ?homepage .
  						  ?d foaf:accountProfilePage ?orcid .
  							FILTER( 
    							REGEX(STR(?l), "$search_param", "i") && STR(?homepage) = "http://orcid.org"
  							)
                        }
                        ORDER BY ASC(?l)
         -->
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <singleton xml:id="info_operator" endpointType="fuseki" triggerItem="responsiblePar_1_uri">
            <query><![CDATA[
                
                        PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
                        PREFIX foaf: <http://xmlns.com/foaf/0.1/>
                        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                        SELECT ?fullname ?email ?phone ?homepage ?l ?addr ?town ?postcode ?country
                        WHERE { 
                          OPTIONAL {
                            <$search_param> foaf:fullName ?fullname .
                          }
                          OPTIONAL {
                            <$search_param> foaf:mbox ?email .
                          }
  						  OPTIONAL {
                            <$search_param> foaf:phone ?phone .
                          }
                          OPTIONAL {
                            <$search_param> vcard:org ?b3 .
                            ?b3 foaf:homepage ?homepage .
                            ?b3 foaf:name ?l .
                          }
                          {
                            <$search_param> vcard:org/vcard:hasAddress ?b1 .
                            ?b1 vcard:street-address ?addr .
                            ?b1 vcard:locality ?town .
                            ?b1 vcard:postal-code ?postcode .
                            ?b1 vcard:country-name ?b2 .
                          }
						  SERVICE <http://sparql.get-it.it> {
    						?b2 foaf:name ?country . 
  						  }
                        }
                        LIMIT 1  
                        
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </singleton>
        <sparql xml:id="ILTERBiom" endpointType="envthes">
            <query><![CDATA[
            ]]></query>
        </sparql>
        <sparql xml:id="GEOBONBiom" endpointType="envthes">
            <query><![CDATA[
            ]]></query>
        </sparql>
        <sparql xml:id="BioRegion" endpointType="envthes">
            <query><![CDATA[
            ]]></query>
        </sparql>
        <sparql xml:id="EunisHabitat" endpointType="envthes">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT * WHERE {
                        SERVICE <http://vocabs.ceh.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:envthes>{
                                {
                                    BIND (<http://vocabs.lter-europe.net/EnvThes/10004> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </sparql>
        <sparql xml:id="mediaMonotoring" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                        WHERE {
                            {
                                ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/MediaValue> .
                                ?c skos:prefLabel ?l.
                            }
                            FILTER( REGEX( STR(?l), "$search_param", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </sparql>
        <sparql xml:id="measurementRegime" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                        WHERE {
                            {
                                ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/MeasurementRegimeValue> .
                                ?c skos:prefLabel ?l.
                            }
                            FILTER( REGEX( STR(?l), "$search_param", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </sparql>
        <sparql xml:id="resultAcquisitionSource" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                        WHERE {
                            {
                                ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/ResultAcquisitionSourceValue> .
                                ?c skos:prefLabel ?l.
                            }
                            FILTER( REGEX( STR(?l), "$search_param", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </sparql>
        <sparql xml:id="organiLevel" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                    WHERE {
                    {
                    ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/LegislationLevelValue> .
                        ?c skos:prefLabel ?l.
                        }
                        FILTER( REGEX( STR(?l), "$search_param", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </sparql>
        
        <!-- for ef:observingCapability -->
        <sparql xml:id="processType" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                        WHERE {
                            {
                                ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/ProcessTypeValue> .
                                ?c skos:prefLabel ?l.
                            }
                            FILTER( REGEX( STR(?l), "", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <!-- for ef:observingCapability -->
        <sparql xml:id="resultNature" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
                    SELECT *
                        WHERE {
                            {
                                ?c skos:inScheme <http://inspire.ec.europa.eu/codelist/ResultNatureValue> .
                                ?c skos:prefLabel ?l.
                            }
                            FILTER( REGEX( STR(?l), "", "i") )
                        }
                        ORDER BY ASC(?l)
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <!-- from NERC because INSPIRE codelist is empty -->
        <singleton xml:id="purposeOfCollection" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
                    SELECT ?c ?l WHERE {
                        SERVICE <http://onto.nerc.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:ef>{
                                {
                                    BIND (<http://onto.nerc.ac.uk/EF/purposeOfCollection> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/EFcodeList/query</url>
        </singleton>
        
        <!-- from NERC thesaurus -->
        <sparql xml:id="envDomain" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
                    SELECT * WHERE {
                        SERVICE <http://onto.nerc.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:ef>{
                                {
                                    BIND (<http://onto.nerc.ac.uk/EF/environmentalDomain> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <sparql xml:id="facilityType" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
                    SELECT * WHERE {
                        SERVICE <http://onto.nerc.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:ef>{
                                {
                                    BIND (<http://onto.nerc.ac.uk/EF/facilityType> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <sparql xml:id="foundingCategory" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
                    SELECT * WHERE {
                        SERVICE <http://onto.nerc.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:ef>{
                                {
                                    BIND (<http://onto.nerc.ac.uk/EF/fundingCategory> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        <sparql xml:id="responsiblePartyRole" endpointType="fuseki">
            <query><![CDATA[
                
                    PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
                    SELECT * WHERE {
                        SERVICE <http://onto.nerc.ac.uk/evn/tbl/sparql> {
                            GRAPH <urn:x-evn-pub:ef>{
                                {
                                    BIND (<http://onto.nerc.ac.uk/EF/responsiblePartyRole> as ?root)
                                    ?root (skos:narrower*) ?c.
                                    ?c skos:prefLabel ?l.
                                }
                                FILTER( REGEX( STR(?l), "$search_param", "i") )
                            }
                        }
                    }
                
            ]]></query>
            <url>http://fuseki1.get-it.it/directory/sparql</url>
        </sparql>
        
        <codelist xml:id="EPSG" endpointType="virtuoso">
            <uri>http://www.rndt.gov.it/codelists/MD_ReferenceSystemCode/items</uri>
        </codelist>
    </datasources>
    
    <!-- GROUPS -->
    <!-- ========= -->
    <!-- inspireId -->
    <!-- ========= -->
    <group xml:id="inspireId">
        <label xml:lang="it">Identificativo INSPIRE</label>
        <label xml:lang="en">INSPIRE Identifier</label>
        <!-- ====== -->
        <!-- GML:ID -->
        <!-- ====== -->
        <element isMandatory="true" isMultiple="false" xml:id="UUIDEMF">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <produces>
                <item hasDatatype="string" hasIndex="1" xml:id="UUIDEMF_1" isFixed="true">
                    <hasValue>LTER-f30007c4-8a6e-4f11-ab87-569db54638fe</hasValue>
                    <hasPath>@gml:id</hasPath>
                </item>
            </produces>
        </element>
        <element xml:id="localId" isMultiple="false" isMandatory="true">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork/ef:inspireId/base:Identifier</hasRoot>
            <produces>
                <item hasIndex="1" xml:id="localId_1" isFixed="false" hasDatatype="string">
                    <label xml:lang="en">Local Identifier</label>
                    <label xml:lang="it">Identificativo locale</label>
                    <help xml:lang="en">A local identifier, assigned by the data provider. The local identifier is unique within the namespace, that is no other spatial object carries the same unique identifier. NOTE It is the responsibility of the data provider to guarantee uniqueness of the local identifier within the namespace.</help>
                    <help xml:lang="it"></help>
                    <hasPath>base:localId</hasPath>
                </item>
                <item hasIndex="2" xml:id="localId_2" isFixed="false" hasDatatype="string">
                    <label xml:lang="en">Namespace</label>
                    <label xml:lang="it">Namespace</label>
                    <help xml:lang="en">Namespace uniquely identifying the data source of the spatial object. NOTE The namespace value will be owned by the data provider of the spatial object and will be registered in the INSPIRE External Object Identifier Namespaces Register.</help>
                    <help xml:lang="it"></help>
                    <hasPath>base:namespace</hasPath>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- =========== -->
    <!-- Description -->
    <!-- =========== -->
    <group xml:id="descr">
        <label xml:lang="en">Enviromental Network description</label>
        <label xml:lang="it">Descrizione dell'Enviromental Network</label>
        <element xml:id="name" isMandatory="true" isMultiple="true">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Name</label>
            <label xml:lang="it">Nome</label>
            <help xml:lang="en">Plain text denotation of the Environmental Manitoring.</help>
            <help xml:lang="it"></help>
            <produces>
                <item hasIndex="1" xml:id="name_1" isFixed="false" hasDatatype="string">
                    <hasPath>ef:name</hasPath>
                </item>
            </produces>
        </element>
        <element xml:id="description" isMandatory="true" isMultiple="false">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Additional Description</label>
            <label xml:lang="it">Descrizione</label>
            <help xml:lang="en">Plain text description of additional information not fitting in other attributes.</help>
            <help xml:lang="it"></help>
            <produces>
                <item hasIndex="1" xml:id="description_1" isFixed="false" hasDatatype="string">
                    <hasPath>ef:additionalDescription</hasPath>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- ============== -->
    <!-- mediaMonitored -->
    <!-- ============== -->
    <!-- TODO: implement elements for: ILTER Biome, GEO-BON Biome, Biogeographyc Region, and EUNIS Habitat from LUSTRE? and EnvThes? -->
    <group xml:id="mMon">
        <label xml:lang="it">Aspetto monitorato</label>
        <label xml:lang="en">Media Monitored</label>
        <element isMandatory="true" isMultiple="true" xml:id="mediaMon">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="it">Aspetto ambientale monitorato</label>
            <label xml:lang="en">Monitored environmental medium</label>
            <help xml:lang="en"/>
            <help xml:lang="it"/>
            <produces>
                <item hasIndex="1" xml:id="mediaMon_1" isFixed="false" hasDatatype="autoCompletion" datasource="mediaMonotoring">
                    <hasPath>ef:mediaMonitored</hasPath>
                </item>
                <item hasIndex="2" xml:id="mediaMon_2" isFixed="true" hasDatatype="select" datasource="mediaMonotoring" field="c">
                    <hasPath>ef:mediaMonitored/@xlink:href</hasPath>
                    <hasValue>ef:mediaMonitored</hasValue>
                </item>
                <!-- ILTER Biome -->
                <!-- TODO: query SPARQL from EnvThes -->
                <!--<item hasIndex="2" xml:id="mediaMon_2" isFixed="false" hasDatatype="autoCompletion" datasource="ILTERBiom" show="combobox">
                    <label xml:lang="it">International LTER Biom</label>
                    <label xml:lang="en">International LTER Biom</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>ef:mediaMonitored</hasPath>
                </item>-->
                <!-- GEO-BON Biome -->
                <!-- TODO: query SPARQL from EnvThes -->
                <!--<item hasIndex="3" xml:id="mediaMon_3" isFixed="false" hasDatatype="autoCompletion" datasource="GEOBONBiom" show="combobox">
                    <label xml:lang="it">GEO-BON Biom</label>
                    <label xml:lang="en">GEO-BON Biom</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>ef:mediaMonitored</hasPath>
                </item>-->
                <!-- Biogeographyc Region -->
                <!-- TODO: query SPARQL from EnvThes -->
                <!--<item hasIndex="4" xml:id="mediaMon_4" isFixed="false" hasDatatype="autoCompletion" datasource="BioRegion" show="combobox">
                    <label xml:lang="it">Biogeographyc Region</label>
                    <label xml:lang="en">Biogeographyc Region</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>ef:mediaMonitored</hasPath>
                </item>-->
                <!-- Eunis habitat -->
                <!-- TODO: query SPARQL from LUSTRE -->
                <!--<item hasIndex="5" xml:id="mediaMon_5" isFixed="false" hasDatatype="autoCompletion" datasource="EunisHabitat" show="combobox">
                    <label xml:lang="it">Eunis habitat</label>
                    <label xml:lang="en">Eunis habitat</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>ef:mediaMonitored</hasPath>
                </item>-->
            </produces>
        </element>
    </group>
    
    <!-- =============== -->
    <!-- legalBackground -->
    <!-- =============== -->
    <!--<group xml:id="lBac">
        <label xml:lang="it">Aspetti legali</label>
        <label xml:lang="en">Legal Background</label>
        <element xml:id="legalBac" isMandatory="false" isMultiple="true">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <produces>
                <item hasIndex="1" xml:id="legalBac_1" isFixed="false" hasDatatype="text">
                    <label xml:lang="it">Contesto legale</label>
                    <label xml:lang="en">Legal context</label>
                    <help xml:lang="en">The legal context, in which the management and regulation of the AbstractMonitoringObject is defined.</help>
                    <help xml:lang="it"></help>
                    <hasPath>ef:legalBackground</hasPath>
                </item>
            </produces>
        </element>
    </group>-->
    
    <!-- ================ -->
    <!-- responsibleParty -->
    <!-- ================ -->
    <group xml:id="rPar">
        <label xml:lang="it">Contatti</label>
        <label xml:lang="en">Contacts</label>
        <element xml:id="responsiblePar" isMandatory="true" isMultiple="true">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork/ef:responsibleParty/base2:RelatedParty</hasRoot>
            <produces>
                <item hasIndex="1" xml:id="responsiblePar_1" isFixed="false"
                    hasDatatype="autoCompletion" datasource="operators" outIndex="4">
                    <label xml:lang="it">Indirizzo e-mail</label>
                    <label xml:lang="en">Electronic mail address</label>
                    <help xml:lang="en"/>
                    <help xml:lang="it"/>
                    <hasPath>base2:contact/base2:Contact/base2:electronicMailAddress</hasPath>
                </item>
                <item hasIndex="2" xml:id="responsiblePar_2" isFixed="false" field="fullname"
                    hasDatatype="select" datasource="info_operator" outIndex="1">
                    <label xml:lang="it">Nome</label>
                    <label xml:lang="en">Individual name</label>
                    <help xml:lang="en"/>
                    <help xml:lang="it"/>
                    <hasPath>base2:individualName/gco:CharacterString</hasPath>
                </item>
                <item hasIndex="3" xml:id="responsiblePar_3" isFixed="false" field="l"
                    hasDatatype="select" datasource="info_operator" outIndex="2">
                    <label xml:lang="it">Nome organizzazione</label>
                    <label xml:lang="en">Organization name</label>
                    <help xml:lang="en"/>
                    <help xml:lang="it"/>
                    <hasPath>base2:organisationName/gco:CharacterString</hasPath>
                </item>
                <item hasIndex="4" xml:id="responsiblePar_4" isFixed="false" hasDatatype="string"
                    outIndex="3">
                    <label xml:lang="it">Posizione</label>
                    <label xml:lang="en">Position name</label>
                    <help xml:lang="en"/>
                    <help xml:lang="it"/>
                    <hasPath>base2:positionName/gco:CharacterString</hasPath>
                </item>
                <!--<item hasIndex="6" xml:id="responsiblePar_6" isFixed="false" hasDatatype="string"  outIndex="6">
                    <label xml:lang="it">FAX</label>
                    <label xml:lang="en">Telephone facsimile</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>base2:RelatedParty/base2:contact/base2:Contact/base2:telephoneFacsimile</hasPath>
                </item>-->
                <!--<item hasIndex="7" xml:id="responsiblePar_7" isFixed="false" field="phone" hasDatatype="select" datasource="info_operator" outIndex="7">
                    <label xml:lang="it">Telefono</label>
                    <label xml:lang="en">Telephone voice</label>
                    <help xml:lang="en"></help>
                    <help xml:lang="it"></help>
                    <hasPath>base2:RelatedParty/base2:contact/base2:Contact/base2:telephoneVoice</hasPath>
                </item>-->
                <item hasIndex="8" xml:id="responsiblePar_8" isFixed="false" field="homepage"
                    hasDatatype="select" datasource="info_operator" outIndex="5">
                    <label xml:lang="it">Website</label>
                    <label xml:lang="en">Website</label>
                    <help xml:lang="en"/>
                    <help xml:lang="it"/>
                    <hasPath>base2:contact/base2:Contact/base2:website</hasPath>
                </item>
                <item hasIndex="9" xml:id="responsiblePar_9" isFixed="false"
                    hasDatatype="autoCompletion" datasource="responsiblePartyRole" outIndex="6">
                    <!--hasDatatype="string">-->
                    <label xml:lang="it">Ruolo</label>
                    <label xml:lang="en">Role</label>
                    <help xml:lang="it"/>
                    <help xml:lang="en"/>
                    <hasPath>base2:role/@xlink:role</hasPath>
                </item>
                <item hasIndex="10" xml:id="responsiblePar_10" isFixed="true" hasDatatype="select"
                    datasource="responsiblePartyRole" field="c" outIndex="7">
                    <hasPath>base2:role/@xlink:href</hasPath>
                    <hasValue>base2:role/@xlink:role</hasValue>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- ======== -->
    <!-- geometry -->
    <!-- ======== -->
    <group xml:id="geom">
        <label xml:lang="en">Geometry</label>
        <label xml:lang="it">Geometria</label>
        <element isMandatory="false" isMultiple="false" xml:id="geo"> <!-- add this if alternative option of geometry alternativeTo="geoGml">-->
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Geometry associated to the AbstractMonitoringObject. For mobile facilities the geometry represents the area the facility is expected to measure in. WFS URL</label>
            <help xml:lang="en">Complete this field with the endpoint of WFS</help>
            <label xml:lang="it">WFS URL</label>
            <help xml:lang="it"></help>
            <produces>
                <item hasDatatype="URL" hasIndex="1" xml:id="geo_1" isFixed="false">
                    <hasPath>ef:geometry/@xlink:href</hasPath>
                </item>
            </produces>
        </element>
        <!--<element isMandatory="false" isMultiple="false" xml:id="geoGml" alternativeTo="geo">
            <label xml:lang="en"></label>
            <help xml:lang="en"></help>
            <label xml:lang="it"></label>
            <help xml:lang="it"></help>
            <produces>
                <item hasDatatype="" hasIndex="2" xml:id="geoGml_1" isFixed="false"></item>
            </produces>
        </element>-->
    </group>
    
    <!-- ======= -->
    <!-- purpose -->
    <!-- ======= -->
    <group xml:id="purp">
        <label xml:lang="en">Purpose</label>
        <label xml:lang="it">Scopo</label>
        <element isMandatory="true" isMultiple="true" xml:id="purpose">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Description</label>
            <help xml:lang="en">Reason for which the AbstractMonitoringObject has been generated. Add a text for describe the purpose</help>
            <label xml:lang="it">Descrizione</label>
            <help xml:lang="it">Motivo per cui il AbstractMonitoringObject è stato creato. Aggiungere un testo per descrivere lo scopo</help>
            <produces>
                <item hasIndex="1" xml:id="purpose_1" isFixed="false" hasDatatype="autoCompletion" datasource="purposeOfCollection">
                    <hasPath>ef:purpose</hasPath>
                </item>
                <item hasIndex="2" xml:id="purpose_2" isFixed="true" hasDatatype="select" datasource="purposeOfCollection" field="c">
                    <hasPath>ef:purpose/@xlink:href</hasPath>
                    <hasValue>ef:purpose</hasValue>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- =================== -->
    <!-- observingCapability -->
    <!-- =================== -->
    <!-- .... -->
    
    <!-- ======= -->
    <!-- broader -->
    <!-- ======= -->
    <group xml:id="broad">
        <label xml:lang="en">Broader</label>
        <label xml:lang="it">Elemento di livello superiore</label>
        <element isMandatory="false" isMultiple="true" xml:id="broader">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <produces>
                <item hasDatatype="URL" hasIndex="1" xml:id="broader_1" isFixed="false">
                    <label xml:lang="en">Broader URL</label>
                    <help xml:lang="en">A link pointing to a broader AbstractMonitoringObject (a higher level in a hierarchical structure). The association has additional properties as defined in the association class Hierarchy.</help>
                    <label xml:lang="it">URL dell'elemento broader</label>
                    <help xml:lang="it"></help>
                    <hasPath>ef:broader/@xlink:href</hasPath>
                </item>
                <!--<!-\- TODO: ??? -\->
                <item hasDatatype="function" hasIndex="2" xml:id="broader_2" isFixed="true">
                    <hasPath>ef:broader/ef:Hierarchy/@gml:id</hasPath>
                    <hasValue></hasValue>
                </item>
                <!-\- TODO: ??? -\->
                <item hasDatatype="function" hasIndex="3" xml:id="broader_3" isFixed="true">
                    <hasPath>ef:broader/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/@gml:id</hasPath>
                    <hasValue></hasValue>
                </item>
                <item hasDatatype="date" hasIndex="4" xml:id="broader_4" isFixed="false">
                    <label xml:lang="en">Date</label>
                    <label xml:lang="it">Data</label>
                    <hasPath>ef:broader/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/gml:beginPosition</hasPath>
                </item>
                <item hasDatatype="string" hasIndex="5" xml:id="broader_5" isFixed="true">
                    <defaultValue>now</defaultValue>
                    <hasPath>ef:broader/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/gml:endPosition</hasPath>
                </item>-->
            </produces>
        </element>
    </group>
    
    <!-- ======== -->
    <!-- narrower -->
    <!-- ======== -->
    <group xml:id="narr">
        <label xml:lang="en">Narrower</label>
        <label xml:lang="it">Elemento di livello inferiore</label>
        <element isMandatory="false" isMultiple="true" xml:id="narrower">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <produces>
                <item hasDatatype="URL" hasIndex="1" xml:id="narrower_1" isFixed="false">
                    <label xml:lang="en">Narrower URL</label>
                    <help xml:lang="en">A link pointing to narrower AbstractMonitoringObject(s) (a lower level in a hierarchical structure). The association has additional properties as defined in the association class Hierarchy.</help>
                    <label xml:lang="it">URL dell'elemento broader</label>
                    <help xml:lang="it"></help>
                    <hasPath>ef:narrower/@xlink:href</hasPath>
                </item>
                <!--<!-\- TODO: ??? -\->
                <item hasDatatype="function" hasIndex="2" xml:id="narrower_2" isFixed="false">
                    <hasPath>ef:narrower/ef:Hierarchy/@gml:id</hasPath>
                </item>
                <!-\- TODO: ??? -\->
                <item hasDatatype="function" hasIndex="3" xml:id="narrower_3" isFixed="true">
                    <hasPath>ef:narrower/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/@gml:id</hasPath>
                    <hasValue></hasValue>
                </item>
                <item hasDatatype="date" hasIndex="4" xml:id="narrower_4" isFixed="false">
                    <label xml:lang="en">Date</label>
                    <label xml:lang="it">Data</label>
                    <hasPath>ef:narrower/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/gml:beginPosition</hasPath>
                </item>
                <item hasDatatype="string" hasIndex="5" xml:id="narrower_5" isFixed="true">
                    <defaultValue>now</defaultValue>
                    <hasPath>ef:narrower/ef:Hierarchy/ef:linkingTime/gml:TimePeriod/gml:endPosition</hasPath>
                </item>-->
            </produces>
        </element>
    </group>
    
    <!-- ========== -->
    <!-- supersedes -->
    <!-- ========== -->
    <!-- .... -->
    
    <!-- ============ -->
    <!-- supersededBy -->
    <!-- ============ -->
    <!-- .... -->
    
    <!-- TODO: !!! -->
    <!-- ========== -->
    <!-- reportedTo -->
    <!-- ========== -->
    <!-- .... -->
    
    <!-- ============== -->
    <!-- hasObservation -->
    <!-- ============== -->
    <!-- .... -->
    
    <!-- ========== -->
    <!-- involvedIn -->
    <!-- ========== -->
    <group xml:id="inIn">
        <label xml:lang="en">Involved in</label>
        <label xml:lang="it">Coinvolto</label>
        <element isMandatory="false" isMultiple="true" xml:id="involvedIn">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <produces>
                <item hasDatatype="URL" hasIndex="1" xml:id="involvedIn_1" isFixed="false">
                    <label xml:lang="en">URL of Activity</label>
                    <help xml:lang="en">EnvironmentalMonitoringActivity(s) in which the AbstractMonitoringFeature is involved.</help>
                    <label xml:lang="it">URL dell'attività</label>
                    <help xml:lang="it"></help>
                    <hasPath>ef:involvedIn/@xlink:href</hasPath>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- ================= -->
    <!-- organisationLevel -->
    <!-- ================= -->
    <group xml:id="orgLev">
        <label xml:lang="en">Organisation level</label>
        <label xml:lang="it">Livello di organizzazione</label>
        <element isMandatory="true" isMultiple="true" xml:id="organisationLevel">
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Organisation level</label>
            <label xml:lang="it">Livello di organizzazione</label>
            <help xml:lang="en">Level of legal organisation the EnvironmentalMonitoringNetwork is affiliated with.</help>
            <help xml:lang="it"/>
            <produces>
                <item hasDatatype="autoCompletion" hasIndex="1" xml:id="organisationLevel_1" isFixed="false"
                    datasource="organiLevel">
                    <hasPath>ef:organisationLevel</hasPath>
                </item>
                <item hasIndex="2" xml:id="organisationLevel_2" isFixed="true" hasDatatype="select"
                    datasource="organiLevel" field="c">
                    <hasPath>ef:organisationLevel/@xlink:href</hasPath>
                    <hasValue>ef:organisationLevel</hasValue>
                </item>
            </produces>
        </element>
    </group>
    
    <!-- ======== -->
    <!-- contains -->
    <!-- ======== -->
    <group xml:id="con">
        <label xml:lang="en">Contains</label>
        <label xml:lang="it">Contiene</label>
        <element isMandatory="false" isMultiple="true" xml:id="contains"> <!-- add this if alternative option of geometry alternativeTo="geoGml">-->
            <hasRoot>/ef:EnvironmentalMonitoringNetwork</hasRoot>
            <label xml:lang="en">Environmental Monitoring Facility URL</label>
            <help xml:lang="en"></help>
            <label xml:lang="it">Environmental Monitoring Facility URL</label>
            <help xml:lang="it"></help>
            <produces>
                <item hasDatatype="URL" hasIndex="1" xml:id="belongsTo_1" isFixed="false">
                    <hasPath>ef:contains/@xlink:href</hasPath>
                </item>
            </produces>
        </element>
    </group>
</template>